<!DOCTYPE html>
<head>
  <title>02 - Generators Fluxo Ajax</title>
</head>
<body>

</body>
<script>
    function ajax(url){
        fetch(url)
          .then(data => data.json())
          .then(data => dados.next(data));
    }

    function* ajaxGen(){
        console.log('Buscando Posts...');
        const post = yield ajax('https://willianjusten.com.br/search.json');
        console.log(post);

        console.log('Buscando dados github...');
        const gitgub = yield ajax('https://api.github.com/users/allangfe');
        console.log(gitgub);

        console.log('Buscando dados github2...');
        const gitgub2 = yield ajax('https://api.github.com/users/allangfe');
        console.log(gitgub2);
    }
    const dados = ajaxGen();
    dados.next();
</script>
</html>
